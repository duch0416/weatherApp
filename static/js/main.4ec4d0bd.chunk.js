(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{82:function(n,e,t){"use strict";t.r(e);var a,i=t(0),r=t.n(i),c=t(31),o=t.n(c),s=t(7),d=t(85),l=t(35),b=t(40),p=t(19),j=t(16),u=t.n(j),x=t(32),h=t(86);!function(n){n.Forecast="forecast"}(a||(a={}));var O,f,g,m,w,v,y,k,S,C,F,T,M=t(33),_=t(34),B=t.n(_).a.create({baseURL:"https://www.metaweather.com/api",headers:{"Content-Type":"application/json"},timeout:3e4}),E=function(n){var e=n.woeid;return B.get("/location/".concat(e))},L=t(3),N=t(4),U=t(11),V=Object(N.b)(U.a)(O||(O=Object(L.a)(["\n  @keyframes spin {\n    0% {\n      transform: rotate(0);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  }\n  animation: spin 1.5s infinite linear;\n  width: 40px;\n  height: 40px;\n"]))),W=t.p+"static/media/sun.33fb29f6.svg",z=t(2),I=function(n){var e=n.className;return Object(z.jsx)("div",{"data-testid":"loader-container",className:e,children:Object(z.jsx)(V,{src:W})})};!function(n){n.MobileS="(min-width: 480px)",n.Tablet="(min-width: 768px)"}(f||(f={}));var J,A,P,R,q,G,D,K,H=N.b.div(g||(g=Object(L.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n\n  @media "," {\n    max-width: 350px;\n  }\n"])),f.MobileS),Q=N.b.p(m||(m=Object(L.a)(["\n  margin-bottom: 10px;\n"]))),X=N.b.div(w||(w=Object(L.a)(["\n  padding: 20px 40px;\n  border-radius: 10px;\n  box-sizing: border-box;\n  box-shadow: 0px 0px 8px rgba(0,0,0, 0.10);\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-bottom: 10px;\n\n  @media "," {\n    margin-right: 10px;\n  }\n"])),f.Tablet),Y=N.b.div(v||(v=Object(L.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  width: 100%;\n"]))),Z=Object(N.b)(Y)(y||(y=Object(L.a)(["\n  margin-top: 10px;\n"]))),$=N.b.p(k||(k=Object(L.a)(["\n  margin-left: 5px;\n  margin-right: 5px;\n"]))),nn=N.b.div(S||(S=Object(L.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  margin-top: 15px;\n  margin-bottom: 20px;\n"]))),en=N.b.p(C||(C=Object(L.a)(["\n  margin-top: 20px;\n"]))),tn=N.b.p(F||(F=Object(L.a)(["\n  margin-top: 10px;\n  font-size: 25px;\n"]))),an=Object(N.b)(U.a)(T||(T=Object(L.a)(["\n  width: 50px;\n  height: 50px;\n  margin-top: 10px;\n"]))),rn=function(n){return n+273},cn=function(n){var e=n.weather_state_abbr,t=n.weather_state_name,a=n.max_temp,i=n.min_temp,r=n.the_temp,c=n.wind_speed,o=n.air_pressure,s=n.applicable_date,d=n.temperatureUnit,l=n.id;return Object(z.jsxs)(H,{children:[Object(z.jsx)(Q,{children:s}),Object(z.jsxs)(X,{children:[Object(z.jsxs)(Y,{children:[Object(z.jsx)("p",{children:t}),Object(z.jsx)(an,{src:"https://www.metaweather.com/static/img/weather/".concat(e,".svg")})]}),Object(z.jsx)(en,{children:"Temperature:"}),Object(z.jsx)(tn,{children:Math.round("fahrenheit"===d?rn(r):r)}),Object(z.jsxs)(nn,{children:[Object(z.jsx)("p",{children:Math.round("fahrenheit"===d?rn(a):a)}),Object(z.jsx)($,{children:"/"}),Object(z.jsx)("p",{children:Math.round("fahrenheit"===d?rn(i):i)})]}),Object(z.jsxs)(Z,{children:[Object(z.jsx)("p",{children:"Wind Speed:"}),Object(z.jsxs)("p",{children:[Math.floor(c)," mph"]})]}),Object(z.jsxs)(Z,{children:[Object(z.jsx)("p",{children:"Air pressure:"}),Object(z.jsxs)("p",{children:[Math.floor(o)," hpa"]})]})]})]},l)},on=N.b.div(J||(J=Object(L.a)(["\n  margin-top: 20px;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n"]))),sn=N.b.p(A||(A=Object(L.a)(["\n  margin-top: 20px;\n"]))),dn=function(n){var e=n.location,t=n.temperatureUnit,r=function(n,e){return Object(h.a)([a.Forecast,n,null===e||void 0===e?void 0:e.lang],Object(x.a)(u.a.mark((function t(){var a,i,r;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,c={query:n,lattlong:!n&&(null===e||void 0===e?void 0:e.lang)?"".concat(e.lat,",").concat(e.lang):""},B.get("/location/search/?".concat(Object(M.stringify)(c)));case 2:if(i=t.sent,null===(a=i.data[0])||void 0===a?void 0:a.woeid){t.next=5;break}throw new Error("No data for provided location");case 5:return t.next=7,E({woeid:i.data[0].woeid});case 7:return r=t.sent,t.abrupt("return",r);case 9:case"end":return t.stop()}var c}),t)}))),{refetchOnWindowFocus:!1,enabled:!!(null===e||void 0===e?void 0:e.lat)||!!n,staleTime:36e5,retry:1})}(e,n.cords),c=r.data,o=r.isLoading,s=r.status,d=r.error;if("error"===s)throw d;return Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(sn,{children:c&&(null===c||void 0===c?void 0:c.data.title)}),Object(z.jsxs)(on,{children:[!(null===c||void 0===c?void 0:c.data.consolidated_weather)&&!o&&"idle"!==s&&Object(z.jsx)("p",{children:"No data"}),o?Object(z.jsx)(I,{}):null===c||void 0===c?void 0:c.data.consolidated_weather.slice(0,3).map((function(n){return Object(i.createElement)(cn,Object(p.a)(Object(p.a)({},n),{},{key:n.id,temperatureUnit:t}))}))]})]})},ln=t(87),bn=function(n,e){var t=Object(i.useRef)(!0);Object(i.useEffect)((function(){if(!t.current)return n?n():void 0;t.current=!1}),e)},pn=N.b.input(P||(P=Object(L.a)(["\n  outline: none;\n  border: none;\n  box-shadow: 0px 0px 8px rgba(0,0,0, 0.10);\n  padding: 10px 20px;\n  transition: 0.3s;\n\n  :hover {\n    box-shadow: 0px 2px 8px rgba(0,0,0, 0.15);\n  }\n"]))),jn=function(n){var e=n.onSearch,t=n.currentValue,a=n.setCurrentValue,i=Object(ln.a)(t,800),r=Object(s.a)(i,1)[0];return bn((function(){e&&e(String(r))}),[r]),Object(z.jsx)("div",{children:Object(z.jsx)(pn,{value:t,onChange:function(n){a(n.target.value)},placeholder:"search"})})};function un(n,e){var t=Object(i.useState)((function(){try{var t=window.localStorage.getItem(n);return t?JSON.parse(t):e}catch(a){return e}})),a=Object(s.a)(t,2),r=a[0],c=a[1];return Object(i.useEffect)((function(){window.localStorage.setItem(n,JSON.stringify(r))}),[e,n,r]),[r,c]}!function(n){n.Location="location",n.Cordinates="cordinates"}(R||(R={})),function(n){n.VeryLightGrey="#F6F6F6",n.Black="#000",n.White="#fff"}(q||(q={}));var xn,hn,On,fn,gn,mn,wn,vn,yn,kn,Sn,Cn=N.b.button(G||(G=Object(L.a)(["\n  width: 50px;\n  height: 20px;\n  border-radius: 10px;\n  position: relative;\n  border: 1px solid ",";\n  outline: none;\n  cursor: pointer;\n  margin-bottom: 10px;\n"])),q.Black),Fn=N.b.div(D||(D=Object(L.a)(["\n  position: absolute;\n  top: 2px;\n  left: 2px;\n  width: 14px;\n  height: 14px;\n  background-color: ",";\n  border-radius: 50%;\n  transition: 0.3s;\n  z-index: 2;\n\n  ","\n"])),q.Black,(function(n){return n.isActive?"left: ".concat(32,"px"):"left: 2px"})),Tn=N.b.span(K||(K=Object(L.a)(["\n  font-weight: 700;\n  text-transform: uppercase;\n"]))),Mn=N.b.div(xn||(xn=Object(L.a)(["\n  background-color: ",";\n  width: 100%;\n  height: 100%;\n  min-height: 100vh;\n  padding: 20px;\n\n  @media "," {\n    padding: 40px;\n  }\n"])),q.VeryLightGrey,f.Tablet),_n=N.b.div(hn||(hn=Object(L.a)(["\n  display: flex;\n  flex-direction: column;\n\n  @media "," {\n    flex-direction: row;\n  }\n"])),f.Tablet),Bn=Object(N.b)((function(n){var e=n.className,t=n.onToggle,a=Object(i.useState)(!1),r=Object(s.a)(a,2),c=r[0],o=r[1];return bn((function(){t&&t(c)}),[c]),Object(z.jsxs)("div",{className:e,children:[Object(z.jsx)(Cn,{onClick:function(){o(!c)},children:Object(z.jsx)(Fn,{isActive:c})}),Object(z.jsxs)("p",{children:["temperature unit: ",Object(z.jsx)(Tn,{children:c?"fahrenheit":"celsius"})]})]})}))(On||(On=Object(L.a)(["\n  margin-top: 10px;\n\n  @media "," {\n    margin-top: 0;\n    margin-left: 20px;\n  }\n"])),f.Tablet),En=N.b.p(fn||(fn=Object(L.a)(["\n  margin-top: 20px;\n"]))),Ln=N.b.div(gn||(gn=Object(L.a)(["\n  display: flex;\n  flex-direction: column;\n  margin: 0 auto;\n  width: fit-content;\n  \n  @media "," {\n    width: 350px;\n  }\n\n  @media "," {\n    width: 100%;\n  }\n"])),f.MobileS,f.Tablet),Nn=N.b.div(mn||(mn=Object(L.a)(["\n  position: fixed;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100vh;\n  background-color: rgba(50,50,50,0.15);\n  z-index: 5;\n"]))),Un=Object(N.b)(U.a)(wn||(wn=Object(L.a)(["\n  @keyframes bounce {\n    0% {\n      transform: scale(1);\n    }\n    50% {\n      transform: scale(1.5)\n    }\n    100% {\n      transform: scale(1);\n    }\n  }\n  animation: bounce 1.5s infinite linear;\n  width: 40px;\n  height: 40px;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n"]))),Vn=Object(N.a)(vn||(vn=Object(L.a)(["\n  * {\n    box-sizing: border-box;\n    margin: 0;\n    padding: 0;\n    font-family: 'Montserrat', sans-serif;\n  }\n"]))),Wn=N.b.div(yn||(yn=Object(L.a)(["\n  max-width: 350px;\n  width: 100%;\n  border: 1px solid ",";\n  background-color: ",";\n  padding: 40px;\n  margin-top: 20px;\n  border-radius: 20px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n"])),q.Black,q.White),zn=N.b.button(kn||(kn=Object(L.a)(["\n  margin-top: 20px;\n  padding: 5px 20px;\n  outline: none;\n  border: 1px solid ",";\n"])),q.Black),In=Object(N.b)(U.a)(Sn||(Sn=Object(L.a)(["\n  width: 50px;\n  height: 50px;\n  margin-bottom: 10px;\n"]))),Jn=function(n){var e=n.error,t=n.resetErrorBoundary;return Object(z.jsxs)(Wn,{children:[Object(z.jsx)(In,{src:"https://www.metaweather.com/static/img/weather/t.svg"}),Object(z.jsx)("p",{children:"Upss...."}),Object(z.jsx)("p",{children:e.message}),Object(z.jsx)(zn,{onClick:t,children:"try again"})]})},An=function(n){var e=un(R.Cordinates,{}),t=Object(s.a)(e,2),a=t[0],r=t[1],c=Object(i.useState)("idle"),o=Object(s.a)(c,2),d=o[0],l=o[1],b=Object(i.useState)(""),p=Object(s.a)(b,2),j=p[0],u=p[1],x=function(n){r({lat:n.coords.latitude,lang:n.coords.longitude}),l("success")},h=function(){l("error"),u("We couldn't get your location, try searching")};return bn((function(){"idle"!==d&&(l("idle"),u(""))}),[n]),Object(i.useEffect)((function(){var e,t;a.lat||n||(l("loading"),e=x,t=h,navigator.geolocation&&navigator.geolocation.getCurrentPosition(e,t))}),[]),{cords:a,status:d,errorMessage:j}},Pn=new d.a({defaultOptions:{queries:{refetchOnWindowFocus:!1}}}),Rn=function(){var n=Object(i.useState)("celsius"),e=Object(s.a)(n,2),t=e[0],a=e[1],r=un(R.Location),c=Object(s.a)(r,2),o=c[0],d=c[1],p=Object(i.useState)(null!==o&&void 0!==o?o:""),j=Object(s.a)(p,2),u=j[0],x=j[1],h=An(o),O=h.cords,f=h.status,g=h.errorMessage;return Object(z.jsxs)(Mn,{children:[Object(z.jsx)(Vn,{}),Object(z.jsxs)(l.a,{client:Pn,children:["loading"===f&&Object(z.jsx)(Nn,{"data-testid":"overlay",children:Object(z.jsx)(Un,{src:"https://www.metaweather.com/static/img/weather/t.svg"})}),Object(z.jsxs)(Ln,{children:[Object(z.jsxs)(_n,{children:[Object(z.jsx)(jn,{onSearch:d,setCurrentValue:x,currentValue:u}),Object(z.jsx)(Bn,{onToggle:function(n){a(n?"fahrenheit":"celsius")}})]}),"error"===f&&Object(z.jsx)(En,{children:g}),Object(z.jsx)(b.ErrorBoundary,{FallbackComponent:Jn,onReset:function(){d(""),x("")},resetKeys:[o],children:Object(z.jsx)(dn,{location:o,temperatureUnit:t,cords:O})})]})]})]})},qn=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,88)).then((function(e){var t=e.getCLS,a=e.getFID,i=e.getFCP,r=e.getLCP,c=e.getTTFB;t(n),a(n),i(n),r(n),c(n)}))};o.a.render(Object(z.jsx)(r.a.StrictMode,{children:Object(z.jsx)(Rn,{})}),document.getElementById("root")),qn()}},[[82,1,2]]]);
//# sourceMappingURL=main.4ec4d0bd.chunk.js.map